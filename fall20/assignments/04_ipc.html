<!DOCTYPE html>
<html>

<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125957901-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-125957901-1');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title> Operating Systems: Assignments</title>
    <meta name="description" content="Operating Systems
">

    <link rel="stylesheet" href="/fall20/_css/main.css">
    <link rel="canonical" href="http://os-course.github.io/fall20/assignments/">
    <link rel="alternate" type="application/rss+xml" title="Iran University of Science and Technology" href="http://os-course.github.io/fall20/feed.xml" />
    <link rel='stylesheet' id='open-sans-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&#038;subset=latin%2Clatin-ext&#038;ver=4.2.4' type='text/css' media='all' />
    <link href='https://fonts.googleapis.com/css?family=Titillium+Web:600italic,600,400,400italic' rel='stylesheet' type='text/css'>





    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
</head>


<body>

<header class="site-header">

    <div class="wrapper">
        <table><tr>
            <td><img width="250" src="/fall20/_images/dslab_iust.png" valign="middle"></td>
            <td style="padding-left:10px;"><a style="font-size: 15px;color: #ffffffc7;" class="site-title" href=""></a>
                <br/>
                <span style="margin-top: -2px;margin-bottom: -10px;" class="site-title"><b> Operating Systems</b></span>
                <br/>
                <span style="color: #000000;font-size: 12px;font-weight: bold;">Fall 2020</span>
            </td>
        </tr></table>

        <nav class="site-nav">

            <a href="#" class="menu-icon menu.open">
                <svg viewBox="0 0 18 15">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </a>

            <div class="trigger"><h1>Main Navigation</h1>

                <ul class="menu">
                    <li><a class="page-link" href="/fall20/"><i class="fa fa-home fa-lg"></i>Home</a></li>
                    <li><a class="page-link" href="/fall20/schedule/"><i class="fas fa-calendar-alt"></i> Schedule</a></li>
                    <li><a class="page-link" href="/fall20/lectures/"><i class="fas fa-book-reader"></i> Lectures</a></li>
                    <li><a class="page-link" href="/fall20/assignments/"><i class="fas fa-user-graduate"></i> Assignments</a></li>
                    <li><a class="page-link" href="/fall20/final_project/"><i class="fas fa-user-graduate"></i>Final Project</a></li>
                    <li><a class="page-link" href="/fall20/course-materials/"><i class="fas fa-book"></i> Course Materials</a></li>
                </ul>

            </div>
        </nav>

    </div>

</header>

<div class="page-content">
    <div class="wrapper">
        <div class="post">

            <header class="post-header">
                <h1 class="post-title">#4 Assignment - Inter-Process Communication</h1>
                <!--                <p class="post-meta">Released on Wednesday 1397/7/4</p>-->
            </header>

            <div>
<!--                <a title="Download homework (zip)" href="/fall20/static_files/assignments/HW4.zip">-->
<!--                    <i class="fas fa-file-archive"> Download</i>-->
<!--                </a>-->
            </div>

            <!--            <div>-->

            <!--                <p style="font-weight: bold">Download-->

            <!--                    [<a href="/fall20/static_files/assignments/assignment01.pdf">problems</a>]-->


            <!--                    [<a href="/fall20/static_files/assignments/assignment01.zip">attachment</a>]-->


            <!--                </p>-->

            <!--                <div style="color: gray;">-->
            <!--                    <h3>Late Policy</h3>-->
            <!--                    <ul>-->

            <!--                        <li>You have free 8 late days.</li>-->

            <!--                        <li>You can use late days for assignments. A late day extends the deadline 24 hours.</li>-->

            <!--                        <li>Once you have used all 8 late days, the penalty is 10% for each additional late day.</li>-->

            <!--                    </ul>-->
            <!--                </div>-->
            <!--            </div>-->

            <br />
            <article class="post-content">
                <h1 id="question-1">Question 1</h1>
                <p>Write a program in C programming language using IPC primitives (shared memory or pipe) to
                    satisfy the described following problem:
                </p>

                <ul style="list-style-type: disc; color: #3a3a3a">
                    <li class="">The parent process creates eight children processes which are waiting for a data
                        structure to assign. These processes are called Processing Units (PU).</li>
                    <li class="">The parent process should generate the first hundred prime numbers,
                        and store them in a struct which has a value and a counter attribute
                        (value equals to counter at the beginning), then assign these structures
                        to children based on the modular division of the prime number by 8. </li>
                    <li class="">These structs are assigned to the PUs one by one, in a concurrent way.</li>
                    <li class="">The PUs add their corresponding numbers (0 to 7) to the value and decrement
                        the counter, and then pass the struct to next PU. This loop continues until the counter is zero.</li>
                    <li class="">When the counter is zero, the PU passes the struct to the parent and parent prints it out.</li>

                </ul>
                <div class="highlighter-rouge">
                    <div class="highlight">
                        <pre class="highlight">
<code><span class="color-code-key">struct </span><span>prime {</span>
    <span class="color-code-key">int </span><span>value;           </span><span class="color-code-comment">// value of the prime number</span>
    <span class="color-code-key">int </span><span>counter;         </span><span class="color-code-comment">// a counter to decrement (at the start counter = value)</span>
<span>}</span></code></pre>
                    </div>
                </div>
                <p>
                    An example scenario is illustrated in the following figure.
                </p>

                <div>
                    <img src="/fall20/static_files/assignments/HW4/full_ring_example.png" alt="Figure">
                </div>

                <p>
                    In your implementation, you are free to use either pipe or shared memory or semaphores
                    or a combination of these. This brings an expectation about submitting different codes. :DD
                </p>

                <h1 id="question-2">Question 2</h1>
                <p>
                    Write a report about the following subjects:
                </p>
                <ol style="color: #850707">
                    <li>The difference between Cross Memory Attach and other models of IPC methods introduced in the class.</li>
                    <li>The safety of the pipe mechanism.</li>
                    <li>Can <code class="highlighter-rouge">pthread_mutex_lock</code> be shared among processes
                        (just like semaphores) instead of threads? Why or why not?</li>
                </ol>

                <h1 id="question-3">Question 3</h1>

                <p>Cross Memory Attach (CMA) is one of the models for Inter-Process Communication.
                    The system calls <code class="highlighter-rouge">process_vm_read()</code> and
                    <code class="highlighter-rouge">process_vm_write()</code> are based on this model.
                    Assume one of the two following scenarios based on your student number and implement
                    two C programs to satisfy the desired scenario.
                    The students with odd student number should consider the first scenario and the others consider second.
                </p>

                <ol style="color: #07478c">
                    <li class="">A producer program should produce 3 Gigabytes data. A consumer should read that data and prints out.</li>
                    <li class="">A producer produces 3 Gigabytes of data and then writes in the consumer's memory space.</li>
                </ol>
                <p>
                    <strong>Note</strong> that to synchronize the producer with the consumer you can use either
                    <code class="highlighter-rouge">getchar()</code> or <code class="highlighter-rouge">sleep()</code>.
                    Also, recall <code class="highlighter-rouge">memset()</code> from the class session to generate data.
                </p>
                <p>
                    Some reading materials are:
                    <br>
                    <a target="_blank" href="https://man7.org/linux/man-pages/man2/process_vm_readv.2.html" >https://man7.org/linux/man-pages/man2/process_vm_readv.2.html</a>
                    <br>
                    <a href="https://lwn.net/Articles/405284/" target="_blank">https://lwn.net/Articles/405284/</a>
                    <br>
                    <a target="_blank" href="https://stackoverflow.com/questions/17324564/cross-memory-attach-how-do-i-get-the-remote-address-from-a-child-process-to-a-p">https://stackoverflow.com/questions/17324564/cross-memory-attach-how-do-i-get-the-remote-address-from-a-child-process-to-a-p</a>
                </p>


                <h1 id="due-dates">Deadline</h1>
                <p>Your midterm is considered for determining the deadline.</p>
                <ul>
                    <li><strong>Tuesday</strong> 8th Dec. 23:00</li>
                </ul>


                <h1 id="submission">Submission</h1>
                <p>Submit just a zip file ,containing your codes and a report, in LMS. The file should be named as
                    [<code class="highlighter-rouge">9752xxxx.zip</code>].
                    For example <code class="highlighter-rouge">97521234.zip</code>.

                </p>

            </article>

        </div>
    </div>
</div>



<footer class="site-footer">

    <div class="wrapper">

        <!--     <h2 class="footer-heading">Iran University of Science and Technology</h2> -->
        <div class="footer-col-wrapper">
            <div class="footer-col  footer-col-1">

                <ul class="contact-list">
                    <li><strong>Iran University of Science and Technology</strong></li>
                    <li></li>
                    <li><a href=" "> </a></li>
                </ul>
            </div>

            <div class="footer-col  footer-col-2">


                <p class="text">
                    School of Computer Engineering<br />
                    Iran University of Science and Technology<br />
                    Tehran, Iran<br />

            </div>

            <div class="footer-col  footer-col-3">
                <ul class="social-media-list">





                    <!--  <li>
                        <a href=" ">
                          <i class="fab fa-twitter" style="color:gray"></i>
                        </a>
                      </li>-->







                    <li>
                        <a href="http://webpages.iust.ac.ir/msharifi//">
                            <i class="fas fa-globe" style="color:gray"></i> webpages.iust.ac.ir/msharifi/
                        </a>
                    </li>





                </ul>
            </div>
        </div>

    </div>

</footer>

</body>

</html>